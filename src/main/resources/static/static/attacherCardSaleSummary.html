<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>销售明细汇总</title>

    <link rel="stylesheet" type="text/css" href="themes/bootstrap/easyui.css"></link>
    <link rel="stylesheet" type="text/css" href="themes/icon.css"></link>
    <link rel="stylesheet" type="text/css" href="themes/color.css"></link>
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="jquery.easyui.min.js"></script>
    <script type="text/javascript" src="locale/easyui-lang-zh_CN.js"></script>
    <script>
        $(function(){
            $('#attacherCardSaleDetailsSummaryDg').datagrid({
                columns:[[
                    {field:'id',title:'ID',width:50,checkbox:true},
                    {field:'masterCardNum',title:'主卡卡号',width:50},
                    {field:'cardNum',title:'卡号',width:50},
                    {field:'department',title:'部门',width:50},
                    {field:'cardPublisher',title:'发卡人',width:50},
                    {field:'cardBuyer',title:'购卡人',width:50},
                    {field:'cardBuyTime',title:'购卡时间',width:50},
                    {field:'changeCardTime',title:'补/换卡时间',width:50},
                    {field:'discount',title:'折扣',width:50, formatter: function(value,row,index){
                        if(value!=null&&value!=''){
                            return value+"%"
                        }
                    }},
                    {field:'telNum',title:'电话',width:50},
                    {field:'vx',title:'微信',width:50},
                    {field:'carNum',title:'车牌号',width:50},
                    {field:'attribute',title:'属性',width:50},
                    {field:'oils',title:'油品',width:50},
                    {field:'status',title:'状态',width:50},
                    {field:'remarks',title:'备注',width:50},
                    {field:'rechargeAmount',title:'充值面额',width:50},
                    {field:'rechargePoint',title:'充值积分',width:50},
                    {field:'firstRechargeTime',title:'首充时间',width:50},
                    {field:'rechargeTimes',title:'充值次数',width:50},
                    {field:'lastRechargeTime',title:'最后充值时间',width:50},
                ]],
                url:'/attacherCardSaleDetailsSummary/page',
                method:'post',
                contentType:"application/json;charset=utf-8",
                toolbar:"#toolbar",
                pagination:true,
                rownumbers:true,
                fitColumns:true,
                singleSelect:true,
                pageSize:20,
                queryParams: {
                    cardNum: ''
                }

            });
        });

        function Search() {
            var cardNum = $('#attacherCardSaleDetailsSummarySearchCardNum').textbox('getValue');
            var queryParams = $('#attacherCardSaleDetailsSummaryDg').datagrid('options').queryParams;
            queryParams.cardNum = cardNum;
            $('#attacherCardSaleDetailsSummaryDg').datagrid('reload');
        }
        
        function Clear() {
            $("#attacherCardSaleDetailsSummarySearchCardNum").textbox('setValue', '');
        }

    </script>
</head>
<body>
<div>
    <table id="attacherCardSaleDetailsSummaryDg">
        <thead>
        <tr>
            <th field="id" width="50" checkbox="true">ID</th>
            <th field="masterCardNum" width="50">主卡卡号</th>
            <th field="cardNum" width="50">卡号</th>
            <th field="department" width="50">部门</th>
            <th field="cardPublisher" width="50">发卡人</th>
            <th field="cardBuyer" width="50">购卡人</th>
            <th field="cardBuyTime" width="50">购卡时间</th>
            <th field="changeCardTime" width="50">补/换卡时间</th>
            <th field="discount" width="50">折扣</th>
            <th field="telNum" width="50">电话</th>
            <th field="vx" width="50">微信</th>
            <th field="carNum" width="50">车牌号</th>
            <th field="attribute" width="50">属性</th>
            <th field="oils" width="50">油品</th>
            <th field="status" width="50">状态</th>
            <th field="remarks" width="50">备注</th>
            <th field="rechargeAmount" width="50">充值面额</th>
            <th field="rechargePoint" width="50">充值积分</th>
            <th field="firstRechargeTime" width="50">首充时间</th>
            <th field="rechargeTimes" width="50">充值次数</th>
            <th field="lastRechargeTime" width="50">最后充值时间</th>
        </tr>
        </thead>
       <div id="attacherCardSaleDetailsSummaryTb">
           <input id="attacherCardSaleDetailsSummarySearchCardNum" type="text" class="easyui-textbox"  data-options="prompt:'请输入卡号..',iconCls:'icon-tip'"></input>
           <button class="easyui-linkbutton"  onclick="Search()" data-options="iconCls:'icon-search'">搜索</button>
           <button class="easyui-linkbutton"  onclick="Clear()" data-options="iconCls:'icon-clear'">重置</button>
        </div>
    </table>
</div>
</body>
</html>